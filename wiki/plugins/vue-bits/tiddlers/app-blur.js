"use strict";const e=window.Vue,M=require("./index-N4zm8-7u.cjs"),D=e.defineComponent({__name:"Blur",props:{text:{default:""},delay:{default:400},className:{default:""},animateBy:{default:"words"},direction:{default:"top"},threshold:{default:.1},rootMargin:{default:"0px"},animationFrom:{},animationTo:{},easing:{type:Function,default:l=>l},onAnimationComplete:{},stepDuration:{default:.35}},setup(l){const t=l,s=(n,i)=>{const m=new Set([...Object.keys(n),...i.flatMap(r=>Object.keys(r))]),a={};for(const r of m)a[r]=[n[r],...i.map(b=>b[r])];return a},u=e.computed(()=>t.animateBy==="words"?t.text.split(" "):t.text.split("")),x=e.computed(()=>t.direction==="top"?{filter:"blur(10px)",opacity:0,y:-50}:{filter:"blur(10px)",opacity:0,y:50}),k=e.computed(()=>[{filter:"blur(5px)",opacity:.5,y:t.direction==="top"?5:-5},{filter:"blur(0px)",opacity:1,y:0}]),d=e.computed(()=>t.animationFrom??x.value),y=e.computed(()=>t.animationTo??k.value),c=e.computed(()=>y.value.length+1),_=e.computed(()=>t.stepDuration*(c.value-1)),B=e.computed(()=>Array.from({length:c.value},(n,i)=>c.value===1?0:i/(c.value-1))),h=e.ref(!1),v=e.ref(0),f=e.ref(!1),p=e.useTemplateRef("rootRef");let o=null;const g=()=>{p.value&&(o=new IntersectionObserver(([n])=>{n.isIntersecting&&(h.value=!0,o==null||o.unobserve(p.value))},{threshold:t.threshold,rootMargin:t.rootMargin}),o.observe(p.value))},C=()=>s(d.value,y.value),w=n=>({duration:_.value,times:B.value,delay:n*t.delay/1e3,ease:t.easing}),A=n=>{n===u.value.length-1&&!f.value&&t.onAnimationComplete&&(f.value=!0,t.onAnimationComplete())};return e.onMounted(()=>{g()}),e.onUnmounted(()=>{o==null||o.disconnect()}),e.watch([()=>t.threshold,()=>t.rootMargin],()=>{o==null||o.disconnect(),g()}),e.watch([()=>t.delay,()=>t.stepDuration,()=>t.animateBy,()=>t.direction],()=>{v.value++,f.value=!1}),(n,i)=>(e.openBlock(),e.createElementBlock("p",{ref_key:"rootRef",ref:p,class:e.normalizeClass(["blur-text",n.className,"flex","flex-wrap"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,(m,a)=>(e.openBlock(),e.createBlock(e.unref(M.Motion),{key:`${v.value}-${a}`,tag:"span",initial:d.value,animate:h.value?C():d.value,transition:w(a),style:{display:"inline-block",willChange:"transform, filter, opacity"},onAnimationComplete:()=>A(a)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m===" "?" ":m)+e.toDisplayString(n.animateBy==="words"&&a<u.value.length-1?" ":""),1)]),_:2},1032,["initial","animate","transition","onAnimationComplete"]))),128))],2))}}),F=e.defineComponent({__name:"AppBlur",setup(l){const t=()=>{console.log("All animations complete!")};return(s,u)=>(e.openBlock(),e.createBlock(D,{text:"Isn't this so cool?!",delay:200,"class-name":"text-2xl font-semibold text-center","animate-by":"words",direction:"top",threshold:.1,"root-margin":"0px","step-duration":.35,onAnimationComplete:t}))}});function T(l={}){return function(t={}){const s={...l,...t};return{render(){return e.h(F,s)}}}}module.exports=T;
